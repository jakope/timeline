var Zt=Object.defineProperty;var zt=(k,T,I)=>T in k?Zt(k,T,{enumerable:!0,configurable:!0,writable:!0,value:I}):k[T]=I;var H=(k,T,I)=>(zt(k,typeof T!="symbol"?T+"":T,I),I),vt=(k,T,I)=>{if(!T.has(k))throw TypeError("Cannot "+I)};var j=(k,T,I)=>(vt(k,T,"read from private field"),I?I.call(k):T.get(k)),it=(k,T,I)=>{if(T.has(k))throw TypeError("Cannot add the same private member more than once");T instanceof WeakSet?T.add(k):T.set(k,I)},P=(k,T,I,et)=>(vt(k,T,"write to private field"),et?et.call(k,I):T.set(k,I),I);var $timeline=function(){var q,J,N,Q,G;"use strict";function k(o){return{all:o=o||new Map,on:function(n,t){var a=o.get(n);a?a.push(t):o.set(n,[t])},off:function(n,t){var a=o.get(n);a&&(t?a.splice(a.indexOf(t)>>>0,1):o.set(n,[]))},emit:function(n,t){var a=o.get(n);a&&a.slice().map(function(v){v(t)}),(a=o.get("*"))&&a.slice().map(function(v){v(n,t)})}}}var T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I="Expected a function",et=0/0,gt="[object Symbol]",pt=/^\s+|\s+$/g,xt=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,Mt=/^0o[0-7]+$/i,bt=parseInt,yt=typeof T=="object"&&T&&T.Object===Object&&T,Ot=typeof self=="object"&&self&&self.Object===Object&&self,Tt=yt||Ot||Function("return this")(),Dt=Object.prototype,wt=Dt.toString,St=Math.max,_t=Math.min,ht=function(){return Tt.Date.now()};function kt(o,n,t){var a,v,c,p,l,f,d=0,M=!1,h=!1,C=!0;if(typeof o!="function")throw new TypeError(I);n=ft(n)||0,rt(t)&&(M=!!t.leading,h="maxWait"in t,c=h?St(ft(t.maxWait)||0,n):c,C="trailing"in t?!!t.trailing:C);function u(y){var E=a,R=v;return a=v=void 0,d=y,p=o.apply(R,E),p}function b(y){return d=y,l=setTimeout(z,n),M?u(y):p}function e(y){var E=y-f,R=y-d,w=n-E;return h?_t(w,c-R):w}function S(y){var E=y-f,R=y-d;return f===void 0||E>=n||E<0||h&&R>=c}function z(){var y=ht();if(S(y))return W(y);l=setTimeout(z,e(y))}function W(y){return l=void 0,C&&a?u(y):(a=v=void 0,p)}function A(){l!==void 0&&clearTimeout(l),d=0,a=f=v=l=void 0}function K(){return l===void 0?p:W(ht())}function F(){var y=ht(),E=S(y);if(a=arguments,v=this,f=y,E){if(l===void 0)return b(f);if(h)return l=setTimeout(z,n),u(f)}return l===void 0&&(l=setTimeout(z,n)),p}return F.cancel=A,F.flush=K,F}function Yt(o,n,t){var a=!0,v=!0;if(typeof o!="function")throw new TypeError(I);return rt(t)&&(a="leading"in t?!!t.leading:a,v="trailing"in t?!!t.trailing:v),kt(o,n,{leading:a,maxWait:n,trailing:v})}function rt(o){var n=typeof o;return!!o&&(n=="object"||n=="function")}function It(o){return!!o&&typeof o=="object"}function Wt(o){return typeof o=="symbol"||It(o)&&wt.call(o)==gt}function ft(o){if(typeof o=="number")return o;if(Wt(o))return et;if(rt(o)){var n=typeof o.valueOf=="function"?o.valueOf():o;o=rt(n)?n+"":n}if(typeof o!="string")return o===0?o:+o;o=o.replace(pt,"");var t=Ct.test(o);return t||Mt.test(o)?bt(o.slice(2),t?2:8):xt.test(o)?et:+o}var ut=Yt,lt={exports:{}};(function(o,n){(function(t,a){o.exports=a()})(T,function(){var t=1e3,a=6e4,v=36e5,c="millisecond",p="second",l="minute",f="hour",d="day",M="week",h="month",C="quarter",u="year",b="date",e="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,W={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var r=["th","st","nd","rd"],i=m%100;return"["+m+(r[(i-20)%10]||r[i]||r[0])+"]"}},A=function(m,r,i){var $=String(m);return!$||$.length>=r?m:""+Array(r+1-$.length).join(i)+m},K={s:A,z:function(m){var r=-m.utcOffset(),i=Math.abs(r),$=Math.floor(i/60),s=i%60;return(r<=0?"+":"-")+A($,2,"0")+":"+A(s,2,"0")},m:function m(r,i){if(r.date()<i.date())return-m(i,r);var $=12*(i.year()-r.year())+(i.month()-r.month()),s=r.clone().add($,h),x=i-s<0,g=r.clone().add($+(x?-1:1),h);return+(-($+(i-s)/(x?s-g:g-s))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:h,y:u,w:M,d,D:b,h:f,m:l,s:p,ms:c,Q:C}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},F="en",y={};y[F]=W;var E=function(m){return m instanceof ot},R=function m(r,i,$){var s;if(!r)return F;if(typeof r=="string"){var x=r.toLowerCase();y[x]&&(s=x),i&&(y[x]=i,s=x);var g=r.split("-");if(!s&&g.length>1)return m(g[0])}else{var O=r.name;y[O]=r,s=O}return!$&&s&&(F=s),s||!$&&F},w=function(m,r){if(E(m))return m.clone();var i=typeof r=="object"?r:{};return i.date=m,i.args=arguments,new ot(i)},D=K;D.l=R,D.i=E,D.w=function(m,r){return w(m,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var ot=function(){function m(i){this.$L=R(i.locale,null,!0),this.parse(i)}var r=m.prototype;return r.parse=function(i){this.$d=function($){var s=$.date,x=$.utc;if(s===null)return new Date(NaN);if(D.u(s))return new Date;if(s instanceof Date)return new Date(s);if(typeof s=="string"&&!/Z$/i.test(s)){var g=s.match(S);if(g){var O=g[2]-1||0,Y=(g[7]||"0").substring(0,3);return x?new Date(Date.UTC(g[1],O,g[3]||1,g[4]||0,g[5]||0,g[6]||0,Y)):new Date(g[1],O,g[3]||1,g[4]||0,g[5]||0,g[6]||0,Y)}}return new Date(s)}(i),this.$x=i.x||{},this.init()},r.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},r.$utils=function(){return D},r.isValid=function(){return this.$d.toString()!==e},r.isSame=function(i,$){var s=w(i);return this.startOf($)<=s&&s<=this.endOf($)},r.isAfter=function(i,$){return w(i)<this.startOf($)},r.isBefore=function(i,$){return this.endOf($)<w(i)},r.$g=function(i,$,s){return D.u(i)?this[$]:this.set(s,i)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(i,$){var s=this,x=!!D.u($)||$,g=D.p(i),O=function(tt,B){var X=D.w(s.$u?Date.UTC(s.$y,B,tt):new Date(s.$y,B,tt),s);return x?X:X.endOf(d)},Y=function(tt,B){return D.w(s.toDate()[tt].apply(s.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(B)),s)},_=this.$W,U=this.$M,V=this.$D,L="set"+(this.$u?"UTC":"");switch(g){case u:return x?O(1,0):O(31,11);case h:return x?O(1,U):O(0,U+1);case M:var nt=this.$locale().weekStart||0,st=(_<nt?_+7:_)-nt;return O(x?V-st:V+(6-st),U);case d:case b:return Y(L+"Hours",0);case f:return Y(L+"Minutes",1);case l:return Y(L+"Seconds",2);case p:return Y(L+"Milliseconds",3);default:return this.clone()}},r.endOf=function(i){return this.startOf(i,!1)},r.$set=function(i,$){var s,x=D.p(i),g="set"+(this.$u?"UTC":""),O=(s={},s[d]=g+"Date",s[b]=g+"Date",s[h]=g+"Month",s[u]=g+"FullYear",s[f]=g+"Hours",s[l]=g+"Minutes",s[p]=g+"Seconds",s[c]=g+"Milliseconds",s)[x],Y=x===d?this.$D+($-this.$W):$;if(x===h||x===u){var _=this.clone().set(b,1);_.$d[O](Y),_.init(),this.$d=_.set(b,Math.min(this.$D,_.daysInMonth())).$d}else O&&this.$d[O](Y);return this.init(),this},r.set=function(i,$){return this.clone().$set(i,$)},r.get=function(i){return this[D.p(i)]()},r.add=function(i,$){var s,x=this;i=Number(i);var g=D.p($),O=function(U){var V=w(x);return D.w(V.date(V.date()+Math.round(U*i)),x)};if(g===h)return this.set(h,this.$M+i);if(g===u)return this.set(u,this.$y+i);if(g===d)return O(1);if(g===M)return O(7);var Y=(s={},s[l]=a,s[f]=v,s[p]=t,s)[g]||1,_=this.$d.getTime()+i*Y;return D.w(_,this)},r.subtract=function(i,$){return this.add(-1*i,$)},r.format=function(i){var $=this,s=this.$locale();if(!this.isValid())return s.invalidDate||e;var x=i||"YYYY-MM-DDTHH:mm:ssZ",g=D.z(this),O=this.$H,Y=this.$m,_=this.$M,U=s.weekdays,V=s.months,L=function(B,X,ct,at){return B&&(B[X]||B($,x))||ct[X].slice(0,at)},nt=function(B){return D.s(O%12||12,B,"0")},st=s.meridiem||function(B,X,ct){var at=B<12?"AM":"PM";return ct?at.toLowerCase():at},tt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:_+1,MM:D.s(_+1,2,"0"),MMM:L(s.monthsShort,_,V,3),MMMM:L(V,_),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:L(s.weekdaysMin,this.$W,U,2),ddd:L(s.weekdaysShort,this.$W,U,3),dddd:U[this.$W],H:String(O),HH:D.s(O,2,"0"),h:nt(1),hh:nt(2),a:st(O,Y,!0),A:st(O,Y,!1),m:String(Y),mm:D.s(Y,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:g};return x.replace(z,function(B,X){return X||tt[B]||g.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(i,$,s){var x,g=D.p($),O=w(i),Y=(O.utcOffset()-this.utcOffset())*a,_=this-O,U=D.m(this,O);return U=(x={},x[u]=U/12,x[h]=U,x[C]=U/3,x[M]=(_-Y)/6048e5,x[d]=(_-Y)/864e5,x[f]=_/v,x[l]=_/a,x[p]=_/t,x)[g]||_,s?U:D.a(U)},r.daysInMonth=function(){return this.endOf(h).$D},r.$locale=function(){return y[this.$L]},r.locale=function(i,$){if(!i)return this.$L;var s=this.clone(),x=R(i,$,!0);return x&&(s.$L=x),s},r.clone=function(){return D.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},m}(),$t=ot.prototype;return w.prototype=$t,[["$ms",c],["$s",p],["$m",l],["$H",f],["$W",d],["$M",h],["$y",u],["$D",b]].forEach(function(m){$t[m[1]]=function(r){return this.$g(r,m[0],m[1])}}),w.extend=function(m,r){return m.$i||(m(r,ot,w),m.$i=!0),w},w.locale=R,w.isDayjs=E,w.unix=function(m){return w(1e3*m)},w.en=y[F],w.Ls=y,w.p={},w})})(lt);const dt=lt.exports;var mt={exports:{}};(function(o,n){(function(t,a){o.exports=a()})(T,function(){var t="minute",a=/[+-]\d\d(?::?\d\d)?/g,v=/([+-]|\d\d)/g;return function(c,p,l){var f=p.prototype;l.utc=function(e){var S={date:e,utc:!0,args:arguments};return new p(S)},f.utc=function(e){var S=l(this.toDate(),{locale:this.$L,utc:!0});return e?S.add(this.utcOffset(),t):S},f.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=f.parse;f.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),d.call(this,e)};var M=f.init;f.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else M.call(this)};var h=f.utcOffset;f.utcOffset=function(e,S){var z=this.$utils().u;if(z(e))return this.$u?0:z(this.$offset)?h.call(this):this.$offset;if(typeof e=="string"&&(e=function(F){F===void 0&&(F="");var y=F.match(a);if(!y)return null;var E=(""+y[0]).match(v)||["-",0,0],R=E[0],w=60*+E[1]+ +E[2];return w===0?0:R==="+"?w:-w}(e),e===null))return this;var W=Math.abs(e)<=16?60*e:e,A=this;if(S)return A.$offset=W,A.$u=e===0,A;if(e!==0){var K=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(W+K,t)).$offset=W,A.$x.$localOffset=K}else A=this.utc();return A};var C=f.format;f.format=function(e){var S=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return C.call(this,S)},f.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var u=f.toDate;f.toDate=function(e){return e==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var b=f.diff;f.diff=function(e,S,z){if(e&&this.$u===e.$u)return b.call(this,e,S,z);var W=this.local(),A=l(e).local();return b.call(W,A,S,z)}}})})(mt);const jt=mt.exports;dt.extend(jt);const Z=(o,n="HH:mm")=>dt.utc(o*1e3).format(n);function At({pointWidth:o,timePerPixel:n,timeSpacing:t,screenScaleCount:a,scaleSpacing:v,scaleHeight:c,startTime:p,drawLine:l,drawText:f}){if(console.log("startTime",p),t===1){for(let d=0;d<a;d++){const M=d*v+o/2,h=Math.ceil(p+d*t);if(!(h<=0)){if(h%10===0){l(M,c.height5),f(M,c.height5+13,`${Z(h,"HH:mm:ss")}`);continue}if(h%5===0){l(M,c.height3);continue}if(h%1===0){l(M,c.height1);continue}}}return}if(t===10){const d=+Z(p,"s")%10,M=d/n;for(let h=0;h<a;h++){const C=h*v-M-o/2,u=Math.ceil(p+h*t-d);if(!(u<=0)){if(u%60===0){l(C,c.height4),f(C,c.height5+13,`${Z(u,"HH:mm")}`);continue}if(u%10===0){l(C,c.height1);continue}}}return}if(t===30){const d=+Z(p,"s")%30,M=d/n;for(let h=0;h<a;h++){const C=h*v-M-o/2,u=Math.ceil(p+h*t-d);if(!(u<=0)){if(u%300===0){l(C,c.height4),f(C,c.height5+13,`${Z(u,"HH:mm")}`);continue}if(u%30===0){l(C,c.height1);continue}}}return}if(t===60){const d=+Z(p,"s")%60,M=d/n;for(let h=0;h<a;h++){const C=h*v-M-o/2,u=Math.ceil(p+h*t-d);if(!(u<=0)){if(u%3600===0){l(C,c.height5),f(C,c.height5+13,`${Z(u)}`);continue}if(u%300===0){l(C,c.height3),u%600===0&&f(C,c.height5+13,`${Z(u,"HH:mm")}`);continue}if(u%60===0){l(C,c.height1);continue}}}return}if(t===120){const d=Z(p,"m:s").split(":"),h=(+d[0]*60+ +d[1])%120,C=h/n;for(let u=0;u<a;u++){const b=u*v-C-o/2,e=Math.ceil(p+u*t-h);if(!(e<=0)){if(e%1800===0){l(b,c.height5),f(b,c.height5+13,`${Z(e)}`);continue}if(e%600===0){l(b,c.height3);continue}if(e%120===0){l(b,c.height1);continue}}}return}if(t===300){const d=Z(p,"m:s").split(":"),h=(+d[0]*60+ +d[1])%300,C=h/n;for(let u=0;u<a;u++){const b=u*v-C-o/2,e=Math.ceil(p+u*t-h);if(!(e<=0)){if(e%3600===0){l(b,c.height5),f(b,c.height5+13,`${Z(e)}`);continue}if(e%1800===0){l(b,c.height3);continue}if(e%300===0){l(b,c.height1);continue}}}return}if(t===600){const d=Z(p,"m:s").split(":"),h=(+d[0]*60+ +d[1])%600,C=h/n;for(let u=0;u<a;u++){const b=u*v-C-o/2,e=Math.ceil(p+u*t-h);if(!(e<=0)){if(e%3600===0){l(b,c.height5),f(b,c.height5+13,`${Z(e)}`);continue}if(e%1800===0){l(b,c.height3);continue}if(e%300===0){l(b,c.height1);continue}}}return}}const Et={fill:!1,bgColor:"rgba(0,0,0,0.5)",textColor:"#ffffff",scaleColor:"#ffffff",areaBgColor:"#ffffff55",pointColor:"#00aeec",pointWidth:3,scaleSpacing:7,fps:30,zoom:2,maxZoom:8,minZoom:1};class Ut{constructor(n,t){H(this,"$canvas");H(this,"canvasContext");it(this,q,void 0);H(this,"currentTime");H(this,"areas");it(this,J,void 0);it(this,N,void 0);H(this,"scaleSpacing");H(this,"bgColor");it(this,Q,void 0);H(this,"pointWidth");H(this,"pointColor");H(this,"textColor");H(this,"scaleColor");H(this,"areaBgColor");it(this,G,void 0);H(this,"fps");if(!n)throw new Error("canvas id is required!");this.$canvas=document.getElementById(n),this.canvasContext=this.$canvas.getContext("2d");const{fill:a,width:v,height:c,bgColor:p,textColor:l,scaleColor:f,areaBgColor:d,pointColor:M,pointWidth:h,scaleSpacing:C,fps:u,zoom:b,maxZoom:e,minZoom:S}={...Et,...t};if(b<S||b>e||b%1!==0)throw new Error(`zoom must be minZoom ~ maxZoom(${S} ~1 ${e}), and must be an integer`);if(e<1||e>7||e%1!==0)throw new Error("maxZoom must be 1 ~ 7, and must be an integer");if(S<1||S>7||S%1!==0)throw new Error("minZoom must be 1 ~ 7, and must be an integer");if(e<S)throw new Error("maxZoom must be greater than minZoom");if(a){const W=this.$canvas.parentElement;this.$canvas.width=W.clientWidth,this.$canvas.height=W.clientHeight,new ResizeObserver(ut(this._onParentResize.bind(this),200)).observe(W)}else v&&(this.$canvas.width=v),c&&(this.$canvas.height=c);P(this,G,!1),P(this,q,k()),this.currentTime=0;const z=[1,10,30,60,120,300,600];P(this,J,[]);for(let W=S-1;W<e;W++)j(this,J).push(z[W]);P(this,N,z[b-1]),this.scaleSpacing=C,P(this,Q,{height6:this.$canvas.height/2,height5:this.$canvas.height/3,height4:this.$canvas.height/4,height3:this.$canvas.height/5,height2:this.$canvas.height/8,height1:this.$canvas.height/10}),this.bgColor=p,this.pointWidth=h,this.pointColor=M,this.textColor=l,this.scaleColor=f,this.areaBgColor=d,this.fps=u}draw({currentTime:n,areas:t,_privateFlag:a}={}){if(j(this,G)&&!a)return;this.currentTime=n||Math.floor(0),this.areas=t||[];const v=Math.ceil(this.$canvas.width/this.scaleSpacing),c=v*j(this,N),p=this.currentTime-c/2,l=this.currentTime+c/2,f=this.$canvas.width/2,d=c/this.$canvas.width;this.clear(),this.drawArea(0,0,this.$canvas.width,this.$canvas.height,this.bgColor),this.areas.forEach(M=>{const h=M.startTime<p?0:Math.floor((M.startTime-p)/d),C=M.endTime>l?this.$canvas.width:Math.floor((M.endTime-p)/d);this.drawArea(h,0,C,this.$canvas.height,M.bgColor||this.areaBgColor)}),At.bind(this)({pointWidth:this.pointWidth,timePerPixel:d,scaleHeight:j(this,Q),scaleSpacing:this.scaleSpacing,timeSpacing:j(this,N),screenScaleCount:v,startTime:p,drawLine:this.drawLine.bind(this),drawText:this.drawText.bind(this)}),this.drawTimelineScale(j(this,N)),this.drawLine(f-this.pointWidth/2,this.$canvas.height,this.pointWidth,this.pointColor),this.drawArea(f-54,4,f+54,18,this.pointColor),this.drawText(f,6,`${Z(this.currentTime,"HH:mm:ss")}`,this.textColor,"center","top"),this.$canvas.onwheel=this._onZoom.bind(this),this.$canvas.onmousedown=this._onDrag.bind(this)}_onDrag({clientX:n}){P(this,G,!0);let t=0;document.onmousemove=ut(a=>{const v=a.clientX-n;let c=this.currentTime-j(this,N)/this.scaleSpacing*(v-t);c=Math.max(c,0),t=v,this.draw({currentTime:Math.round(c),areas:this.areas,_privateFlag:!0})},j(this,N)===1?100:1e3/this.fps),document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,P(this,G,!1),this.emit("timeUpdate",this.currentTime)}}_onZoom(n){n.preventDefault();const t=j(this,J).findIndex(a=>a===j(this,N));n.deltaY<0&&t>0?(P(this,N,j(this,J)[t-1]),this.draw({currentTime:this.currentTime,areas:this.areas,_privateFlag:!0})):n.deltaY>0&&t<j(this,J).length-1&&(P(this,N,j(this,J)[t+1]),this.draw({currentTime:this.currentTime,areas:this.areas,_privateFlag:!0}))}_onParentResize(){const n=this.$canvas.parentNode;!n||(this.$canvas.width=n.clientWidth,this.$canvas.height=n.clientHeight,P(this,Q,{height6:this.$canvas.height/2,height5:this.$canvas.height/3,height4:this.$canvas.height/4,height3:this.$canvas.height/5,height2:this.$canvas.height/8,height1:this.$canvas.height/10}),this.draw({currentTime:this.currentTime,areas:this.areas}))}clear(){this.canvasContext&&this.canvasContext.clearRect(0,0,this.$canvas.width,this.$canvas.height),this.$canvas&&(this.$canvas.onwheel=null,this.$canvas.onmousedown=null)}drawTimelineScale(n){let t="";switch(n){case 1:t="1s";break;case 10:t="10s";break;case 30:t="30s";break;case 60:t="1min";break;case 120:t="2min";break;case 300:t="5min";break;case 600:t="10min";break}this.drawText(this.scaleSpacing+12,9,`${t}`,this.textColor,"left","middle"),this.canvasContext.beginPath(),this.canvasContext.moveTo(5,6),this.canvasContext.lineTo(5,10),this.canvasContext.lineTo(this.scaleSpacing+7,10),this.canvasContext.lineTo(this.scaleSpacing+7,6),this.canvasContext.strokeStyle=this.scaleColor,this.canvasContext.lineWidth=1.5,this.canvasContext.stroke()}drawLine(n,t,a=1,v=this.scaleColor){this.canvasContext.beginPath(),this.canvasContext.moveTo(n,this.$canvas.height),this.canvasContext.lineTo(n,this.$canvas.height-t),this.canvasContext.closePath(),this.canvasContext.strokeStyle=v,this.canvasContext.lineWidth=a,this.canvasContext.stroke()}drawText(n,t,a,v=this.textColor,c="center",p="alphabetic"){this.canvasContext.beginPath(),this.canvasContext.font="11px Arial",this.canvasContext.fillStyle=v,this.canvasContext.textAlign=c,this.canvasContext.textBaseline=p,this.canvasContext.fillText(a,n,t)}drawArea(n,t,a,v,c){this.canvasContext.beginPath(),this.canvasContext.rect(n,t,a-n,v-t),this.canvasContext.fillStyle=c,this.canvasContext.fill()}on(n,t){j(this,q).on(n,t)}off(n,t){j(this,q).off(n,t)}emit(...n){j(this,q).emit(...n)}}return q=new WeakMap,J=new WeakMap,N=new WeakMap,Q=new WeakMap,G=new WeakMap,Ut}();
